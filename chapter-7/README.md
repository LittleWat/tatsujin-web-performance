# 7章 キャッシュの活用

## 7章4節 具体的なキャッシュ実装方法

### [リスト1 キャッシュを生成して生成結果を保存する手法](7-1)

### [リスト2 非同期にキャッシュ更新処理を実行する手法](7-2)

### [リスト3 golang.org/x/sync/singleflightを利用したコード例](7-3)

### リスト4 実行結果

```
2022/02/05 18:58:50 call HeavyGet 2
2022/02/05 18:58:50 call HeavyGet 1
2022/02/05 18:58:50 call HeavyGet 7
2022/02/05 18:58:50 call HeavyGet 3
2022/02/05 18:58:50 call HeavyGet 9
2022/02/05 18:58:50 call HeavyGet 0
2022/02/05 18:58:50 call HeavyGet 8
2022/02/05 18:58:50 call HeavyGet 5
2022/02/05 18:58:50 call HeavyGet 4
2022/02/05 18:58:50 call HeavyGet 6
2022/02/05 18:58:52 0
2022/02/05 18:58:52 2
2022/02/05 18:58:52 4
2022/02/05 18:58:52 6
2022/02/05 18:58:52 8
2022/02/05 18:58:52 10
2022/02/05 18:58:52 12
2022/02/05 18:58:52 14
2022/02/05 18:58:52 16
2022/02/05 18:58:52 18
```

### [リスト5 キャッシュを生成して生成結果を保存する手法](7-5.patch)
